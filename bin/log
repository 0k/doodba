#!/usr/bin/env python
from __future__ import unicode_literals
import argparse
import logging
import os

parser = argparse.ArgumentParser(description="Easy logging for scripts")
parser.add_argument("level", choices=("DEBUG", "INFO", "WARNING", "ERROR"))
parser.add_argument("message", nargs="+")
arguments = parser.parse_args()

try:
    logging.root.setLevel(int(os.environ["LOG_LEVEL"]))
except KeyError:
    pass
except ValueError:
    logging.warning("Expected an int in $LOG_LEVEL")

logging.log(getattr(logging, arguments.level), " ".join(arguments.message))
